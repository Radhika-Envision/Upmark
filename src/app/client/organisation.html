<div>

<div class="survey-tree secondary">
    <h2>
        <i class="fa fa-fw fa-university"></i>
        {{org.name}}
        <button class="btn btn-round" title="Edit"
                ng-click="edit.edit()"
                ng-if="!edit.model">
            <i class="fa fa-pencil"></i></button>
        <button class="btn btn-round" title="Save"
                ng-click="edit.save()"
                ng-if="edit.model"
                form="editor">
            <i class="fa fa-check"></i></button>
        <button class="btn btn-round" title="Cancel"
                ng-click="edit.cancel()"
                ng-if="edit.model">
            <i class="fa fa-times"></i></button>
    </h2>
</div>

<editor-error class="measure" edit="edit"></editor-error>

<div class="measure" ng-if="edit.model">
    <form novalidate name="form" id="editor" ng-submit="edit.save()">
        <div class="form-group" show-errors>
            <label for="org_name">Name</label>
            <span class="help-label" ng-if="form.org_name.$error.required">
                Please provide a name</span>
            <input type="text" class="form-control" id="org_name" name="org_name"
                ng-model="edit.model.name" required />
        </div>
        <div class="form-group" show-errors>
            <label for="org_url">Web site</label>
            <input type="text" class="form-control" id="org_url" name="org_url"
                ng-model="edit.model.url" />
        </div>
        <div class="form-group" show-errors>
            <label for="org_customers">Number of customers</label>
            <input type="number" class="form-control" id="org_customers" name="org_customers"
                ng-model="edit.model.numberOfCustomers" />
        </div>
        <div class="form-group" show-errors>
            <label for="org_region">Region</label>
            <input type="text" class="form-control" id="org_region" name="org_region"
                ng-model="edit.model.region" />
        </div>
    </form>
</div>

<div class="measure" ng-if="!edit.model">
    <dl>
        <dt>Region</dt>
        <dd>{{org.region}}</dd>
    </dl>
    <dl>
        <dt>Web site</dt>
        <dd><a ng-href="{{org.url}}">{{org.url}}</a></dd>
    </dl>
    <dl>
        <dt>Number of customers</dt>
        <dd>{{org.numberOfCustomers}}</dd>
    </dl>
</div>

</div>
