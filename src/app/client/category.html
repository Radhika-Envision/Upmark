<!-- Nested node template -->
<div class="row">
  <div class="category">
    <div class="col-lg-6" ui-tree="options">
      <h3>Categories</h3>
      <ol ui-tree-nodes ng-model="functions" data-type="group">
        <li ng-repeat="func in functions" ui-tree-node>
          <div class="group-title angular-ui-tree-handle" ng-show="!func.editing">
            <a href="" class="btn btn-danger btn-xs pull-right" data-nodrag ng-click="removeFunction(func)"><i class="glyphicon glyphicon-remove"></i></a>
            <a href="" class="btn btn-primary btn-xs pull-right" data-nodrag ng-click="editFunction(func)"><i class="glyphicon glyphicon-pencil"></i></a>
            <div>&nbsp;{{func.title}}</div>
          </div>
          <div class="group-title angular-ui-tree-handle" data-nodrag ng-show="func.editing">
            <form class="form-inline" role="form">
              <div class="form-group">
                <label class="sr-only" for="functionName">Function name</label>
                <input type="text" class="form-control" placeholder="Function name" ng-model="func.title">
              </div>
              <button type="submit" class="btn btn-default" ng-click="saveFunction(func)">Save</button>
              <button type="submit" class="btn btn-default" ng-click="cancelEditingFunction(func)">Cancel</button>
            </form>
          </div>
          <ol ui-tree-nodes ng-model="func.categories" data-type="category">
            <li ng-repeat="category in func.categories" ui-tree-node>
              <div class="category-title angular-ui-tree-handle">
                <a href="" class="btn btn-danger btn-xs pull-right" data-nodrag ng-click="removeCategory(func, category)"><i class="glyphicon glyphicon-remove"></i></a>
                <div>
                  &nbsp;{{category.name}}
                </div>
              </div>
            </li>
          </ol>
          <ol class="angular-ui-tree-nodes" data-nodrag>
            <li class="angular-ui-tree-node">
              <div class="category-title angular-ui-tree-handle">
                <form class="form-inline" role="form">
                  <div class="form-group">
                    <label class="sr-only" for="categoryName">Category name</label>
                    <input type="text" class="form-control" ng-model="func.newCategoryName" placeholder="Category name">
                  </div>
                  <button type="submit" class="btn btn-default" ng-click="addCategory(func)">Add Category</button>
                </form>
              </div>
            </li>
          </ol>
        </li>
      </ol>
      <ol class="angular-ui-tree-nodes">
        <li class="angular-ui-tree-node">
          <div class="group-title angular-ui-tree-handle">
            <form class="form-inline" role="form">
              <div class="form-group">
                <label class="sr-only" for="functionName">Function name</label>
                <input type="text" class="form-control" id="funcTitle" placeholder="Function title">
              </div>
              <button type="submit" class="btn btn-default" ng-click="addFunction()">Add Function</button>
            </form>
          </div>
        </li>
      </ol>
    </div>
    <div class="col-lg-6">
      <h3>Measures</h3>
      <div class="info ng-binding">
      </div>
    </div>
  </div>
</div>