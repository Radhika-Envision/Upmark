<div class="header">
<div class="container">
    <div class="toolbar">
        <button class="btn btn-default btn-round" title="Cancel"
                ng-click="edit.cancel()"
                ng-if="edit.model && edit.model.id">
            <i class="fa fa-times"></i></button>
        <button class="btn btn-default btn-round" title="Save"
                ng-click="save()"
                ng-if="edit.model"
                form="editor"
                form-save-button="editor">
            <i class="fa fa-check"></i></button>
        <button class="btn btn-default btn-round" title="Edit"
                ng-click="edit.edit()"
                ng-if="!edit.model && checkRole('config_edit')">
            <i class="fa fa-pencil"></i></button>
    </div>
    <h2 page-title>
        <i class="fa fa-fw fa-cog"></i>
        Administration
    </h2>
</div>
</div>

<div ng-if="edit.model" class="container">
    <form novalidate name="form" id="editor" form-nav-warn>
        <div class="container-fluid text-center">
          <div class="row">
            <div class="form-group col-md-5">
                <label for="appName">Application Logo</label>
                <p>
                    Wide logo to display in the title bar
                </p>
                <file-setting setting="edit.model.logo"></file-setting>
            </div>
            <div class="form-group col-md-4">
                <label for="appName">Big Icon</label>
                <p>
                    Square icon to use on a phone
                </p>
                <file-setting setting="edit.model.iconLg"></file-setting>
            </div>
            <div class="form-group col-md-3">
                <label for="appName">Small Icon</label>
                <p>
                    Icon for browser tabs
                </p>
                <file-setting setting="edit.model.iconSm"></file-setting>
            </div>
          </div>
        </div>
        <div class="form-group">
            <label for="appNameLong">Application Name</label>
            <p>
                The name to refer to this application by
            </p>
            <string-setting setting="edit.model.appNameLong"></string-setting>
        </div>
        <div class="form-group">
            <label for="appNameShort">Short Application Name</label>
            <p>
                A concise name for the application
            </p>
            <string-setting setting="edit.model.appNameShort"></string-setting>
        </div>

        <h3>User Management</h3>

        <div class="form-group">
            <label for="passThreshold">Password Strength Threshold</label>
            <p>
                The minimum strength for a password;
                0.1 allows very weak passwords and 1.0 requires strong
                passwords
            </p>
            <numerical-setting setting="edit.model.passThreshold"></numerical-setting>
        </div>

        <h3>Reporting</h3>

        <div class="form-group">
            <label for="adhocTimeout">Custom Query Time Limit</label>
            <p>
                The maximum number of seconds a custom query is allowed to run
                for
            </p>
            <numerical-setting setting="edit.model.adhocTimeout"></numerical-setting>
        </div>

        <div class="form-group">
            <label for="adhocMaxLimit">Custom Query Row Limit</label>
            <p>
                The maximum number of rows a query can return
            </p>
            <numerical-setting setting="edit.model.adhocMaxLimit"></numerical-setting>
        </div>

    </form>
</div>

<div ng-if="!edit.model" class="container">
    <div class="container-fluid text-center">
      <div class="row">
        <div class="form-group col-md-5">
            <h4>Primary Logo</h4>
            <img class="app-icon" src="/systemconfig/logo">
        </div>
        <div class="form-group col-md-4">
            <h4>Big Icon</h4>
            <img class="app-icon" src="/systemconfig/iconLg">
        </div>
        <div class="form-group col-md-3">
            <h4>Small Icon</h4>
            <img class="app-icon" src="/systemconfig/iconSm">
        </div>
      </div>
    </div>
    <h4>Application Name</h4>
    <p>
        {{systemConfig.appNameLong.value}}
        <span ng-if="systemConfig.appNameLong.value !=
                systemConfig.appNameShort.value">
            ({{systemConfig.appNameShort.value}})</span>
    </p>

    <h3>User Management</h3>
    <h4>Password Strength Threshold</h4>
    <p>{{systemConfig.passThreshold.value}}</p>

    <h3>Reporting</h3>
    <h4>Custom Query Time Limit</h4>
    <p>{{systemConfig.adhocTimeout.value}}</p>

    <h4>Custom Query Row Limit</h4>
    <p>{{systemConfig.adhocMaxLimit.value}}</p>
</div>
