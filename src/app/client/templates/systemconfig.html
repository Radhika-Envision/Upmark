<div class="header">
<div class="container">
    <div class="toolbar">
        <button class="btn btn-default btn-round" title="Cancel"
                ng-click="edit.cancel()"
                ng-if="edit.model && edit.model.id">
            <i class="fa fa-times"></i></button>
        <button class="btn btn-default btn-round" title="Save"
                ng-click="save()"
                ng-if="edit.model"
                form="editor"
                form-save-button="editor">
            <i class="fa fa-check"></i></button>
        <button class="btn btn-default btn-round" title="Edit"
                ng-click="edit.edit()"
                ng-if="!edit.model && checkRole('conf_edit')">
            <i class="fa fa-pencil"></i></button>
    </div>
    <h2 page-title>
        <i class="fa fa-fw fa-cog"></i>
        Administration
    </h2>
</div>
</div>

<div ng-if="edit.model" class="container">
    <form novalidate name="form" id="editor" form-nav-warn>
        <div class="container-fluid text-center">
          <div class="row">
            <div class="form-group col-md-5">
                <label for="themeLogo">Application Logo</label>
                <file-setting setting="edit.model.themeLogo"></file-setting>
                <p>
                    Wide logo to display in the title bar
                </p>
            </div>
            <div class="form-group col-md-4">
                <label for="themeIconLg">Big Icon</label>
                <file-setting setting="edit.model.themeIconLg"></file-setting>
                <p>
                    Square icon to use on a phone
                </p>
            </div>
            <div class="form-group col-md-3">
                <label for="themeIconSm">Small Icon</label>
                <file-setting setting="edit.model.themeIconSm"></file-setting>
                <p>
                    Icon for browser tabs
                </p>
            </div>
          </div>
        </div>
        <div class="container-fluid text-center">
          <div class="row">
            <div class="form-group col-md-4">
                <label for="themeNavBg">Nav Bar Colour</label>
                <colour-setting setting="edit.model.themeNavBg"></colour-setting>
            </div>
            <div class="form-group col-md-4">
                <label for="themeHeaderBg">Header Colour</label>
                <colour-setting setting="edit.model.themeHeaderBg"></colour-setting>
            </div>
            <div class="form-group col-md-4">
                <label for="themeHeaderBg">Sub-Header Colour</label>
                <colour-setting setting="edit.model.themeSubHeaderBg"></colour-setting>
            </div>
          </div>
        </div>
        <div class="container-fluid text-center">
          <div class="row">
            <div class="form-group col-md-6">
                <label for="appNameLong">Application Name</label>
                <p>
                    The name to refer to this application by
                </p>
                <string-setting setting="edit.model.appNameLong"></string-setting>
            </div>
            <div class="form-group col-md-6">
                <label for="appNameShort">Short Application Name</label>
                <p>
                    A concise name or acronym
                </p>
                <string-setting setting="edit.model.appNameShort"></string-setting>
            </div>
          </div>
        </div>

        <div class="container-fluid text-center">
          <div class="row">
            <div class="form-group col-md-12">
                <label for="appBaseUrl">Application URL</label>
                <p>
                    The base URL that is used in notification emails sent by this
                    instance.
                </p>
                <string-setting setting="edit.model.appBaseUrl"></string-setting>
            </div>
          </div>
        </div>

        <div class="container-fluid text-center">
          <div class="row">
            <div class="form-group col-md-12">
                <label for="isTraining">Training Mode</label>
                <p>
                    Displays an icon to show that this instance doesn't contain live
                    data. <em>This does not change how data is stored</em>; it's
                    just a cue to the users.
                </p>
                <boolean-setting setting="edit.model.isTraining"></boolean-setting>
            </div>
          </div>
        </div>

        <div class="container-fluid text-center">
          <div class="row">
            <div class="form-group col-md-12">
                <label for="passThreshold">Password Strength Threshold</label>
                <p>
                    The minimum strength for a password;
                    0.1 allows very weak passwords and 1.0 requires strong
                    passwords
                </p>
                <numerical-setting setting="edit.model.passThreshold"></numerical-setting>
            </div>
          </div>
        </div>

        <!-- <h3>Reporting</h3> -->

        <div class="container-fluid text-center">
          <div class="row">
            <div class="form-group col-md-6">
                <label for="customTimeout">Custom Query Time Limit</label>
                <p>
                    The time a custom query is allowed to run for (s)
                </p>
                <numerical-setting setting="edit.model.customTimeout"></numerical-setting>
            </div>
            <div class="form-group col-md-6">
                <label for="customMaxLimit">Custom Query Row Limit</label>
                <p>
                    The maximum number of rows a query can return
                </p>
                <numerical-setting setting="edit.model.customMaxLimit"></numerical-setting>
            </div>
          </div>
        </div>

    </form>
</div>

<div ng-if="!edit.model" class="container">
    <div class="container-fluid text-center">
      <div class="row">
        <div class="form-group col-md-5">
            <h4>Primary Logo</h4>
            <img class="app-icon" src="/systemconfig/themeLogo">
        </div>
        <div class="form-group col-md-4">
            <h4>
                Big Icon
                <button class="btn btn-default btn-round hidden-print"
                        title="Show preview"
                        ng-click="state.previewBig = !state.previewBig"
                        highlight="state.previewBig"
                        highlight-dismiss="state.previewBig = false">
                    <i class="fa fa-fw fa-search"></i></button>
            </h4>
            <img class="app-icon" src="/systemconfig/themeIconLg">
        </div>
        <div class="form-group col-md-3">
            <h4>
                Small Icon
                <button class="btn btn-default btn-round hidden-print"
                        title="Show preview"
                        ng-click="state.previewSmall = !state.previewSmall"
                        highlight="state.previewSmall"
                        highlight-dismiss="state.previewSmall = false">
                    <i class="fa fa-fw fa-search"></i></button>
            </h4>
            <img class="app-icon" src="/systemconfig/themeIconSm">
        </div>
      </div>
    </div>

    <div class="popover-container">
      <p class="icon-preview" highlight ng-if="state.previewBig">
        <span>
            <img class="app-icon" ng-src="/images/icon-196.png?v={{state.cacheBust}}"
                style="height: 196px;">
            <span>196</span>
        </span>
        <span>
            <img class="app-icon" ng-src="/images/icon-144.png?v={{state.cacheBust}}"
                style="height: 144px;">
            <span>144</span>
        </span>

        <br class="visible-sm visible-xs">

        <span>
            <img class="app-icon" ng-src="/images/icon-96.png?v={{state.cacheBust}}"
                style="height: 96px;">
            <span>96</span>
        </span>
        <span>
            <img class="app-icon" ng-src="/images/icon-72.png?v={{state.cacheBust}}"
                style="height: 72px;">
            <span>72</span>
        </span>
      </p>

      <p class="icon-preview" highlight ng-if="state.previewSmall">
        <span>
            <img class="app-icon" ng-src="/images/icon-64.png?v={{state.cacheBust}}"
                style="height: 64px;">
            <span>64</span>
        </span>
        <span>
            <img class="app-icon" ng-src="/images/icon-48.png?v={{state.cacheBust}}"
                style="height: 48px;">
            <span>48</span>
        </span>
        <span>
            <img class="app-icon" ng-src="/images/icon-32.png?v={{state.cacheBust}}"
                style="height: 32px;">
            <span>32</span>
        </span>
        <span>
            <img class="app-icon" ng-src="/images/icon-16.png?v={{state.cacheBust}}"
                style="height: 16px;">
            <span>16</span>
        </span>
      </p>
    </div>

    <div class="container-fluid text-center">
      <div class="row">
        <div class="form-group col-md-4">
            <h4 class="swatch swatch-nav">Nav Bar Style</h4>
        </div>
        <div class="form-group col-md-4">
            <h4 class="swatch swatch-header">Header Style</h4>
        </div>
        <div class="form-group col-md-4">
            <h4 class="swatch swatch-sub-header">Sub-Header Style</h4>
        </div>
      </div>
    </div>

    <h4>Application Name</h4>
    <p>
        {{systemConfig.appNameLong.value}}
        <span ng-if="systemConfig.appNameLong.value !=
                systemConfig.appNameShort.value">
            ({{systemConfig.appNameShort.value}})</span>
    </p>

    <h4>Application URL</h4>
    <p>
        {{systemConfig.appBaseUrl.value}}
    </p>

    <h3>User</h3>

    <h4>Password Strength Threshold</h4>
    <p>{{systemConfig.passThreshold.value}}</p>

    <h4>Training Mode</h4>
    <p ng-if="systemConfig.isTraining.value">
        Training mode is on: users will see an icon
        <i class="fa fa-graduation-cap"></i>
        suggesting that the data is not live.
    </p>
    <p ng-if="!systemConfig.isTraining.value">
        Training mode is off.
    </p>

    <h3>Reporting</h3>
    <h4>Custom Query Time Limit</h4>
    <p>{{systemConfig.customTimeout.value}}</p>

    <h4>Custom Query Row Limit</h4>
    <p>{{systemConfig.customMaxLimit.value}}</p>
</div>
